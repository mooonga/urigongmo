<!-- templates/home/main.html -->

<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ìš°ë¦¬ë™ë„¤ ê³µëª¨ì „</title>
  <style>
    .category-buttons {
      margin: 20px 0;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .category-buttons a {
      padding: 8px 15px;
      border: 1px solid #aaa;
      border-radius: 20px;
      text-decoration: none;
      color: #333;
      font-size: 14px;
    }
    .category-buttons a.active {
      background: #333;
      color: white;
      font-size: bold;
    }
  </style>
</head>
<body>
  <h1>ğŸ¯ ìš°ë¦¬ë™ë„¤ ê³µëª¨ì „</h1>

  <!-- ë©”ë‰´ -->
  <ul>
    <li><a href="/poster/">ğŸ“Œ ê³µëª¨ì „ ì „ì²´ ë³´ê¸°</a></li>
    <li><a href="/freeboard/">ğŸ’¬ ììœ ê²Œì‹œíŒ</a></li>
    <li><a href="/mypage/">ğŸ™‹ ë§ˆì´í˜ì´ì§€</a></li>
    <li><a href="/contest/">ğŸ“„ ì»¤ë®¤ë‹ˆí‹°(contest ì•±)</a></li>
  </ul>

  <!-- ê²€ìƒ‰ -->
  <form method="get">
    <input type="text" name="q" placeholder="ê³µëª¨ì „ ê²€ìƒ‰" value="{{ query }}">
    <button type="submit">ê²€ìƒ‰</button>
  </form>

  <!-- ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ í•„í„° -->
  <div class="category-buttons">
    <a href="/" class="{% if not selected_category %}active{% endif %}">ì „ì²´</a>
    {% for c in categories %}
      <a href="/?category={{ c }}" class="{% if selected_category == c %}active{% endif %}">{{ c }}</a>
    {% endfor %}
  </div>

  <hr>

  <!-- ê³µëª¨ì „ ë¦¬ìŠ¤íŠ¸ -->
  {% for p in posters %}
    <div style="margin-bottom:30px;">
      <a href="{% url 'poster:poster_detail' p.pk %}">
        {% if p.image %}
          <img src="{{ p.image.url }}" width="150"><br>
        {% endif %}
        <strong>{{ p.title }}</strong>
      </a><br>
      {{ p.organization }} | {{ p.category }}<br>
      {{ p.start_date }} ~ {{ p.end_date }}<br>
      ì¡°íšŒìˆ˜: {{ p.views }}
    </div>
  {% empty %}
    <p>ê³µëª¨ì „ì´ ì—†ìŠµë‹ˆë‹¤.</p>
  {% endfor %}
</body>
</html>
