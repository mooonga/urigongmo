{# templates/mypage/profile.html #}
{% extends 'base_mypage.html' %}
{% load static %}

{% block tab_content %}
<div class="content-card">
  <div class="profile-card-header">
    <h2 class="card-title">프로필 정보</h2>
    <a href="{% url 'account:profile_edit' %}" class="btn edit-btn">
      <img src="{% static 'img/icons/edit.svg' %}" class="btn-icon" alt="수정"> 프로필 수정
    </a>
  </div>
  <div class="profile-card-body">
    <div class="avatar-wrapper">
      {% if profile.avatar_url %}
        <img src="{{ profile.avatar_url }}" class="avatar" alt="프로필 사진">
      {% else %}
        <img src="{% static 'img/default-avatar.png' %}" class="avatar" alt="기본 프로필">
      {% endif %}
    </div>

    {% if business_profile %}
    <div class="info-grid">
      <div class="info-item">
        <span class="label">사용자 이름</span>
        <span class="value">{{ profile.nickname }}</span>
      </div>
      <div class="info-item">
        <span class="label">회사 이름</span>
        <span class="value">{{ business_profile.company_name|default:"미입력" }}</span>
      </div>
      <div class="info-item">
        <span class="label">회사 유형</span>
        <span class="value">{{ business_profile.business_type|default:"미입력" }}</span>
      </div>
      <div class="info-item">
        <span class="label">컨택 이메일</span>
        <span class="value">{{ business_profile.contact_email|default:"-" }}</span>
      </div>
      <div class="info-item">
        <span class="label">연락처</span>
        <span class="value">{{ business_profile.phone_number|default:"-" }}</span>
      </div>
      <div class="info-item">
        <span class="label">승인 상태</span>
        <span class="value">{{ business_profile.approval_status|default:"대기중" }}</span>
      </div>
    </div>

    {% else %}
    <div class="info-grid">
      <div class="info-item">
        <span class="label">이름</span>
        <span class="value">{{ profile.nickname }}</span>
      </div>
      <div class="info-item">
        <span class="label">이메일</span>
        <span class="value">{{ profile.user.email }}</span>
      </div>
      <div class="info-item">
        <span class="label">나이</span>
        <span class="value">
          {% if profile.age %}
            {{ profile.age }}세
          {% else %}
            -
          {% endif %}
        </span>
      </div>
      <div class="info-item">
        <span class="label">거주지</span>
        <span class="value">{{ profile.region|default:"-" }}</span>
      </div>
      <div class="info-item">
        <span class="label">소개</span>
        <span class="value">{{ profile.bio|default:"-" }}</span>
      </div>
      <div class="info-item">
        <span class="label">관심사</span>
        <span class="value">
          {% if profile.interests %}
            {% for tag in profile.interests %}
              <span class="tag">{{ tag }}</span>
            {% endfor %}
          {% else %}
            -
          {% endif %}
        </span>
      </div>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}